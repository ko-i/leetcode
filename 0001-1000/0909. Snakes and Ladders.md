> https://leetcode-cn.com/problems/snakes-and-ladders/

``` rust
use std::collections::HashSet;

impl Solution {
    pub fn snakes_and_ladders(board: Vec<Vec<i32>>) -> i32 {
        let n = board.len();
        let sq_n = n * n;
        // é¦–å…ˆå£°æ˜ä¸€ä¸ªHashSetæ¥æ¨¡æ‹Ÿé˜Ÿåˆ—, ç”¨æ¥å­˜æ”¾å½“å‰æ‰©æ•£æ­¥éª¤ä¸­çš„æ‰€æœ‰ç¼–å·
        // è¿˜éœ€è¦ä¸€ä¸ªvisited, è¿™æ˜¯æˆ‘ä»¬çš„è€æœ‹å‹äº†, ç”¨æ¥å­˜æ”¾å·²ç»å†è¿‡çš„ç¼–å·, è¿™ä¸ªç”¨ä¸€ç»´æ•°ç»„å³å¯
        let (mut q, mut visited) = (HashSet::with_capacity(16), vec![false; sq_n + 1]);
        q.insert(1usize); // ç»™é˜Ÿåˆ—ä¸­åŠ å…¥ç¬¬1ä¸ªç¼–å·
        // å£°æ˜ä¸€ä¸ªå˜é‡step, è¡¨ç¤ºå½“å‰æ­¥æ•°, ä¹Ÿæ˜¯ç­”æ¡ˆ
        let mut step = 0;
        while !q.is_empty() {
            // å£°æ˜ä¸€ä¸ªä¸´æ—¶çš„hashset, ç”¨æ¥å­˜æ”¾ä¸‹ä¸€æ­¥éœ€è¦æ¢ç´¢çš„ç¼–å·
            let mut t_set = HashSet::with_capacity(16);
            
            // ç„¶åéå†å½“å‰é˜Ÿåˆ—ä¸­çš„ç¼–å·
            for cur_num in q.drain() {
                if cur_num == sq_n {
                    return step;
                }
                
                visited[cur_num] = true;
                
                for i in 1..=6 {
                    let mut next_num = cur_num + i;
                    if next_num > sq_n {
                        break;
                    }
                    
                    let (next_r, next_c) = Solution::num_2_rc(next_num, n);
                    if board[next_r][next_c] >= 0 {
                        next_num = board[next_r][next_c] as usize;
                    }
                    
                    if !visited[next_num] {
                        t_set.insert(next_num);
                    }
                }
            }
            
            q = t_set;
            step += 1;
        }
        
        // 12ms 100.00% 2MB 100.00% è€¶âœŒğŸ»ï¼
        -1
    }
    
    // è¾…åŠ©å‡½æ•°ï¼Œå°†'ç¼–å·num'ä¾æ®'è¾¹é•¿n'(nè¡Œnåˆ—)çš„çŸ©é˜µç´¢å¼•å…ƒç»„(r, c)
    // è¿™é‡Œè¦æ³¨æ„1<=num<=n*n, 0<=r<n, 0<=c<n
    fn num_2_rc(num: usize, n: usize) -> (usize, usize) {
        // é¦–å…ˆè€ƒè™‘æ˜¯ç¬¬å‡ è¡Œ, éœ€è¦æ³¨æ„ä¸¤ç‚¹
        // 1. ç¼–å·numä»1å¼€å§‹, æ‰€ä»¥å¦‚æœæƒ³è¦è½¬æ¢ä¸ºä»0å¼€å§‹çš„ç´¢å¼•å·ï¼Œæˆ‘ä»¬è¦-1
        // 2. å€’åº, æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨n-1å‡å»ç»“æœ, å¦‚: ç¬¬0è¡Œå…¶å®å¯¹åº”ç¬¬n-1è¡Œ, ç¬¬1è¡Œå¯¹åº”ç¬¬n-2è¡Œ
        let r = (num - 1) / n;
        
        // ä¸‹é¢è€ƒè™‘æ˜¯ç¬¬å‡ åˆ—,
        // è§‚å¯Ÿåˆ°: ç¬¬0, 2, 4, 6..å¶æ•°ç´¢å¼•è¡Œéƒ½æ˜¯é¡ºåºæ’åˆ—, å¥‡æ•°è¡Œéƒ½æ˜¯å€’åºæ’åˆ—
        // æ ¹æ®ä¸Šè¿°è®¡ç®—è¡Œçš„å¯å‘: é¡ºåºæˆ‘ä»¬ä¸ç®¡å®ƒï¼Œå€’åºæˆ‘ä»¬å°±ç”¨n-1å†å‡å®ƒ
        let c = if r % 2 == 0 {(num - 1) % n} else {n - 1 - ((num - 1) % n)};
        
        (n - 1 - r, c)
    }
}
```