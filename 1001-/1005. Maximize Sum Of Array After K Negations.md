> https://leetcode.com/problems/maximize-sum-of-array-after-k-negations/

``` rust
use std::cmp::Ordering::{Less, Equal, Greater};

impl Solution {
    pub fn largest_sum_after_k_negations(nums: Vec<i32>, mut k: i32) -> i32 {
        let mut bias = nums.iter().min().unwrap().to_owned();
        let mut nums_cnt = [0; 256];
        nums.iter().for_each(|&n| nums_cnt[(n-bias) as usize] += 1);
        
        let mut res = 0;
        (0..nums_cnt.len()).filter(|i| nums_cnt[*i] > 0).map(|i| (i as i32 + bias, nums_cnt[i])).for_each(|(num, cnt)| match k.cmp(&0) {
            Greater => match num.cmp(&0) {
                Less => {
                    let flip_cnt = k.min(cnt);
                    res += num.abs() * flip_cnt + num * (cnt - flip_cnt);
                    k -= flip_cnt;
                },
                Equal => k = 0,
                _ => res += num * cnt,
            },
            _ => res += num * cnt,
        });
        
        if k & 1 == 1 {
            res -= 2 * nums.iter().map(|&n| n.abs()).min().unwrap_or(0).to_owned();
        }
        
        res
    }
}
```